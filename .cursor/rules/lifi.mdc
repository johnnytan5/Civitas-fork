---
description: LI.FI Cross-Chain Bridge & Swap Integration Rules
globs: **/*lifi*, **/*bridge*, **/*swap*, **/*.ts, **/*.tsx, **/*.js
---
# LI.FI Integration

When writing code that involves cross-chain swaps, bridging, or the LI.FI SDK/API:

1.  **Reference Documentation:**
    -   [LI.FI API](docs/tech/li.fi/lifi-api.md) (REST API endpoints, specific error codes, rate limits)
    -   [LI.FI SDK](docs/tech/li.fi/lifi-sdk.md) (Client-side SDK usage)
    -   [General Docs](docs/tech/li.fi/lifi-docs.md)

2.  **Authentication:**
    -   Use `x-lifi-api-key` header for API requests.
    -   **SECURITY:** Never expose API keys in client-side code (`browser`, `widget`). Use backend proxy or Widget's built-in security.

3.  **Error Handling:**
    -   Handle LI.FI specific tool errors (e.g., `INSUFFICIENT_LIQUIDITY`, `SLIPPAGE_ERROR`).
    -   Refer to `docs/tech/li.fi/lifi-api.md` for the full list of Error Codes (1000-1013).

4.  **Best Practices:**
    -   Cache `GET /tokens` and `GET /chains` responses.
    -   Debounce quote requests.
    -   Use the SDK `executeRoute` or `executeStep` for reliable transaction management.
